<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>主界面</title>
    <script src="../POST.js"></script>
    <script>
        function mCreateEvent() {
            var startTime = document.getElementById('txtstarttime').value;
            var endTime = document.getElementById('txtendtime').value;
            var content = document.getElementById('txtcontent').value;
            if (prevButtionDate == undefined) {
                alert("请先选择日期");
            }
            else if (content == null || content == "") {
                alert("请输入内容");
            }
            else if (startTime > endTime) {
                alert("结束时间必须晚于开始时间！");
                startTime = "";
                endTime = "";
            }
            else {
                $('event').create(prevButtionDate, startTime, endTime, 0, content,
                    function (ret) {
                        if (ret[0].status == '0') {
                            alert('成功插入');
                        }
                        else {
                            alert('插入失败');
                        }
                    }
                    , null)
            }
        }
        function mDeleteEvent() {
            var eventid = document.getElementById('txtid').value;
            if (prevButtionDate == undefined) {
                alert("请先选择日期");
            }
            else if (eventid == null || eventid == "") {
                alert("请输入要删除的事件编号");
            }
            else {
                $('event').delete(eventid, function (ret) {
                    if (ret[0].status == '0') {
                        alert('成功删除');
                    }
                    else {
                        alert('删除失败');
                    }
                }
                    , null)
            }
        }
        function getUsermessage() {
            $('account').get(function (ret) {
                if (ret[0].status == '0') {
<<<<<<< HEAD
                    document.getElementById("msg").innerHTML = '您好,' + ret[1].name + "&nbsp;&nbsp;&nbsp;LV" + ret[1].level;
=======
                    document.getElementById("msg").innerHTML='您好,'+ret[1].name+"&nbsp;&nbsp;&nbsp;LV"+ret[1].level;
>>>>>>> e2be1769cc9e4e273ea4017da23131aebb4cceff
                }
                else {
                    alert('失败');
                }
<<<<<<< HEAD
            }, null)
=======
            },null)
>>>>>>> e2be1769cc9e4e273ea4017da23131aebb4cceff
        }
    </script>
    <style>
        body,
        div,
        dl,
        dt,
        dd,
        ul,
        ol,
        li,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        pre,
        code,
        form,
        fieldset,
        legend,
        input,
        textarea,
        p,
        blockquote,
        th,
        td {
            margin: 0;
            padding: 0;
        }

        .Usermessage_style {
            height: 40px;
            padding: 10px 60px;
            line-height: 40px;
        }

        .Usermessage_style p {
            float: right;
        }

        .calendar {
            width: 700px;
            background-color: lightgray;
            margin: 20px auto;

        }

        .calendar::after {
            content: "";
            display: block;
            clear: both;
        }

        .selecthead {
            width: 700px;
            height: 50px;
            line-height: 50px;
            text-align: center;
        }

        ul>li {
            float: left;
            width: 100px;
            height: 50px;
            text-align: center;
            line-height: 50px;
            list-style-type: none;
        }

        .datesUl>li:empty {
            opacity: 0;
        }

        .datesUl>li:hover {
            background-color: lightblue;
        }

        .item {
            margin: 0 auto;
            width: 1000px;
            height: 300px;
        }

        .item .itemtable {
            width: 600px;
            float: left;
            text-align: center;
        }

        .item .operatbox {
            width: 300px;
            float: right;
        }

        .item .operatbox .txt .txtbox {
            width: 300px;
            margin: 5px 5px;
        }

        .item .operatbox .txt .txtbox input {
            width: 205px;
            float: right;
        }

        .item .operatbox .txt .specialtxtbox {
            width: 300px;
            height: 160px;
            margin: 5px 5px;
        }

        .item .operatbox .txt .specialtxtbox textarea {
            float: right;
            resize: none;
            font: 14px "宋体";
        }

        .item .operatbox .btn {
            width: 210px;
            margin: 0 auto;
            float: right;
        }

        .item .operatbox .btn input[type="button"] {
            width: 50px;
            height: 30px;
            margin: 0 5px;
        }
    </style>
    <!-- <script src="mainPage.js">
    </script> -->
</head>

<<<<<<< HEAD
<body onload="getUsermessage()">
=======
<body  onload="getUsermessage()">
>>>>>>> e2be1769cc9e4e273ea4017da23131aebb4cceff
    <div id="Usermessage" class="Usermessage_style">
        <p id="msg"></p>
    </div>
    <div id="calendar" class="calendar">
        <div id="month_year" class="selecthead">
            <input type="button" id="leftshift" class="leftbutton" value="&lt;" onclick="leftmonth()">
            <select id="year"></select>年
            <select id="month"></select>月
            <input type="button" id="rightshift" class="rightbutton" value="&gt;" onclick="rightmonth()">
        </div>
        <ul id="title" class="mainbox">
            <li>星期日</li>
            <li>星期一</li>
            <li>星期二</li>
            <li>星期三</li>
            <li>星期四</li>
            <li>星期五</li>
            <li>星期六</li>
        </ul>
        <ul id="datesUl" class="datesUl"></ul>
    </div>
    <div class="item" id="item">
        <table class="itemtable" id="itemtable" height="60px" width="400px" border="1px">
            <tr height="80px">
                <th width="50px">事件编号</th>
                <th width="300px">时间</th>
                <th width="300px">内容</th>
            </tr>
        </table>
        <div id="operate" class="operatbox">
            <div class="txt">
                <div class="txtbox">
                    <label>编号：</label><input type="text" id="txtid">
                </div>
                <div class="txtbox">
                    <label>开始时间：</label><input type="text" id="txtstarttime">
                </div>
                <div class="txtbox">
                    <label>结束时间：</label><input type="text" id="txtendtime">
                </div>
                <div class="specialtxtbox">
                    <label>内容：</label><textarea id="txtcontent" rows="10" cols="27"></textarea>
                </div>
            </div>
            <div class="btn"><input type="button" value="插入" onclick="mCreateEvent()">
                <input type="button" value="删除" onclick="mDeleteEvent()">
            </div>
        </div>
    </div>
    <script src="mainPage.js">
    </script>
</body>

</html>